import{a as S,S as w,i as a}from"./assets/vendor-Db2TdIkw.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();const q="49857160-7bda86bfd7838e1783d5a5b92",P="https://pixabay.com/api/",M=15;async function y(r,t=1){return(await S.get(P,{params:{key:q,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:M}})).data}const h=document.querySelector(".gallery"),g=document.querySelector(".load-more"),p=document.querySelector(".loader"),B=new w(".gallery a");function L(r){const t=r.map(({webformatURL:s,largeImageURL:n,tags:e})=>`
    <li class="gallery-item">
      <a href="${n}">
        <img src="${s}" alt="${e}" />
      </a>
    </li>
  `).join("");h.insertAdjacentHTML("beforeend",t),B.refresh()}function E(){h.innerHTML=""}function b(){p.classList.add("visible")}function v(){p.classList.remove("visible")}function O(){g.classList.add("visible")}function u(){g.classList.remove("visible")}const x=document.querySelector(".form"),l=document.querySelector(".load-more"),m=l.querySelector(".loader");let c="",i=1,f=0;x.addEventListener("submit",async r=>{if(r.preventDefault(),c=r.target.elements["search-text"].value.trim(),!c){a.warning({message:"Please enter a search term"});return}i=1,E(),u(),b();try{const t=await y(c,i);if(f=t.totalHits,t.hits.length===0){a.info({message:"No results found. Try again!"});return}L(t.hits);const s=Math.ceil(f/15);i>=s?(u(),a.info({message:"We're sorry, but you've reached the end of search results."})):O()}catch{a.error({message:"Failed to fetch images"})}finally{v()}});l.addEventListener("click",async()=>{i+=1,l.disabled=!0,m.classList.add("visible"),b();try{const r=await y(c,i);L(r.hits),setTimeout(()=>{A()},200);const t=Math.ceil(f/15);i>=t&&(u(),a.info({message:"We're sorry, but you've reached the end of search results."}))}catch(r){console.error("Load more error:",r),a.error({message:"Something went wrong"})}finally{m.classList.remove("visible"),l.disabled=!1,v()}});function A(){const r=document.querySelector(".gallery-item");if(!r)return;const t=r.getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
